<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="stylesheet.css" rel="stylesheet">
    <title>TwitterClone Login Page</title>
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
   <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
   <style>
      
      </style>
</head>
        
<body>
  
  <div class="row">
    <div class="col-sm column" style="background-color:#aaa;">
    
    </div>
    <div class="col-sm" style="background-color:rgb(255, 255, 255);">
      
      
        <div class='div-1'>
            <div class='sub-div-1'>
                <i class="fa fa-twitter icon"></i>
            </div>
        </div>
        <div class='div-2'>
            <div class='sub-div-2'>
              

                <h3>
                  Tweet Away...
                </h3>
            </div>
        </div>
        <div class='div-3'>
            <div class='sub-div-3 form-floating mb-3'>
                <input type="text" class="form-control rounded-3" id="Username" placeholder="Username" required minlength="4" maxlength="8">
                <label for="Username">Username</label>
            </div>
            
        </div>
        <div class='div-3'>
            <div class='sub-div-3 form-floating mb-3'>
                <input type="password" class="form-control rounded-3" id="Password" placeholder="Password" required  minlength="8" maxlength="16">
                  <label for="Password">Password</label>
            </div>
        </div>
        <div class='div-5'>
            <div class='sub-div-5'>
                <button class= "btn btn-outline-dark">Log in</button><br>
                
            </div>
        </div>
        <div class='div-6'>
            <div class='sub-div-6'>
              
              <button class="button btn btn-outline-dark ">Forgot password? </button>
                
                          
            </div>
        </div>
        <div class="div-7">
        <h3>Don't Have An Account?</h3>
    </div>
        <div class='div-7'>
          <div class='sub-div-7'>
        
            <button type="button" class="btn btn-outline-primary btn-lg" data-bs-toggle="modal" data-bs-target="#modalSignin">Sign Up</button>
                        
          </div>
      </div>
  
    </div>
    </div>
    
    <div class="modal fade" tabindex="-1" role="dialog" id="modalSignin">
        <div class="modal-dialog" role="document">
          <div class="modal-content rounded-4 shadow">
            <div class="modal-header p-5 pb-4 border-bottom-0">
              <!-- <h5 class="modal-title">Modal title</h5> -->
              <h2 class="fw-bold mb-0">Sign up for free</h2>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
      
            <div class="modal-body p-5 pt-0">
              <form class="">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control rounded-3" id="floatingName" placeholder="Name" required>
                    <label for="floatingInput"> Name</label>
                  </div>
                <div class="form-floating mb-3">
                  <input type="email" class="form-control rounded-3" id="floatingInput" placeholder="name@example.com" required>
                  <label for="floatingInput">Email address</label>
                </div>
                <div class="form-floating mb-3">
                    <input type="date" class="form-control rounded-3" id="floatingBirthday" placeholder="YYYY/MM/DD" required max="2004-01-01">
                    <label for="floatingBirthday">Birthday</label>
                  </div>
                <div class="form-floating mb-3">
                    <input type="text" class="form-control rounded-3" id="floatingUsername" placeholder="Username" required minlength="4" maxlength="10">
                    <label for="floatingUsername">Username</label>
                  </div>
                <div class="form-floating mb-3">
                  <input type="password" class="form-control rounded-3" id="floatingPassword" placeholder="Password" required  minlength="8" maxlength="16">
                  <label for="floatingPassword">Password</label>
                </div>
                <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="button" id = "signUp" >Sign up</button>
                <small class="text-muted">By clicking Sign up, you agree that this is a cool webpage.</small>
                
              </form>
            </div>
          </div>
        </div>
      </div>

  
  
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-app.js";
    import { getDatabase,ref, set } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-database.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-auth.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDLUUA1F60yhRn_prxS-9CmJS5eFEYnvGM",
      authDomain: "cosc310twitter-3323a.firebaseapp.com",
      projectId: "cosc310twitter-3323a",
      storageBucket: "cosc310twitter-3323a.appspot.com",
      messagingSenderId: "705650666790",
      appId: "1:705650666790:web:6e1ef08cc135edddcb65e7",
      measurementId: "G-LGEL34JKBX"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth(app)
    const analytics = getAnalytics(app);

    //Initializing DOM elements
    const signUp = document.getElementById("signUp");
    
    

     
signUp.addEventListener('click', (e)=>{
    var name = document.getElementById("floatingName").value;
    var email = document.getElementById("floatingInput").value;
    var username = document.getElementById("floatingUsername").value;
    var password = document.getElementById("floatingPassword").value;
    var birthday = document.getElementById("floatingBirthday").value;
    var CreatingUser = true;
    
    createUserWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
    
    set(ref(database, 'users/' + username), {
    name: name,
    username: username,
    email: email,
    birthday: birthday,
    bio: null,
    website: null

  }).then(function onSuccess(res) {
    window.location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";
  }).catch(function onError(err) {
    // do sth, e.g. console.error(err);
  });


   
    // ...
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    // ..
  });
  
  
  
  
  

})
  </script>
</html>